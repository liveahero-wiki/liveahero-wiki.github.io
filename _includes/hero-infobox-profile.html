{% assign firstCardInfo = include.firstCardInfo %}

{% assign stockId = include.stockId | downcase %}
{% assign cardProfileOverride = site.data.processed.CardProfileOverride[stockId].sidekick %}
{% assign overrideIllustrator = site.data.processed.jp_profile[cardProfileOverride.illustrator] %}
{% assign overrideAffiliation = site.data.processed.jp_profile[cardProfileOverride.affiliation] %}
{% assign overridejob = site.data.processed.jp_profile[cardProfileOverride.job] %}

<div class="heroinfobox">
{% include atlas-gallery.html sprites=include.sprites %}
<div>
    <div class="header">
        <div class="name">{{ firstCardInfo.stockId | stockIdToCharaTitle: 1 }}</div>
        <div class="sub">{{ firstCardInfo.cardName }}</div>
    </div>
    <div style="display: flex; justify-content: center; gap: 10px; margin: 10px;">
        {% if include.isHero %}
        <img style="height: 32px;" src="/assets/img/icons/ui_symbol_chara_hero.webp" loading="lazy">
        <img width="32" height="32" src="/assets/img/icons/icon_element_{{ firstCardInfo.element | element_enum | lowercase}}.webp" loading="lazy">
        {% else %}
        <img style="height: 32px;" src="/assets/img/icons/ui_symbol_chara_sidekick.webp" loading="lazy">
        {% endif %}
        <img width="32" height="32" src="/assets/img/icons/icon_star_{{ firstCardInfo.rarity }}.webp" loading="lazy">
    </div>
    <table>
        <tbody>
            {% if include.isHero %}
            <tr>
                <th>Attribute</th>
                <td>{% include hero-element.html element=firstCardInfo.element %}</td>
                <th>Role</th>
                <td>{% include hero-role.html role=firstCardInfo.role %}</td>
            </tr>
            {% endif %}
            <tr>
                <th colspan="2">Illustration</th>
                <td colspan="2">{% include chara-illustrator.html illustrator=firstCardInfo.illustrator override=overrideIllustrator %}</td>
            </tr>
            <tr>
                <th colspan="2">Voice</th>
                <td colspan="2">{% include chara-voice-actor.html cv=firstCardInfo.characterVoice %}</td>
            </tr>
            <tr>
                <th colspan="2">Affliation office</th>
                <td colspan="2">{% include chara-affiliation.html affiliation=firstCardInfo.affiliationOffice override=overrideAffiliation %}</td>
            </tr>
            <tr>
                <th colspan="2">Occupation</th>
                <td colspan="2">{% if overridejob %}<span class="masked">{% endif %}{{ page.occupation | default: firstCardInfo.job }}{% if overridejob %}</span>{% endif %}</td>
            </tr>

{% if page.profile %}
            <tr>
                <th colspan="2">Birthplace</th>
                <td colspan="2">{{ page.profile.birthplace }}</td>
            </tr>
            <tr>
                <th colspan="2"><abbr class="tippy" data-content="Converted to Earth Calendar">Age</abbr></th>
                <td colspan="2">{{ page.profile.age }}</td>
            </tr>
            <tr>
                <th colspan="2"><abbr class="tippy" data-content="Converted to Earth Calendar">Birthday</abbr></th>
                <td colspan="2">{{ page.profile.birthday }}</td>
            </tr>
            <tr>
                <th colspan="2">Height (cm)</th>
                <td colspan="2">{{ page.profile.height }}</td>
            </tr>
            <tr>
                <th colspan="2">Weight (kg)</th>
                <td colspan="2">{{ page.profile.weight }}</td>
            </tr>
{% endif %}
        </tbody>
    </table>


</div>
</div>